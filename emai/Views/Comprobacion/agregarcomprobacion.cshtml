

@{
    ViewData["Title"] = "agregarpago";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card">
    <div class="card-header">
        Comprobación
    </div>
    <!-- /.card-header -->
    <div class="card-body">

        <form asp-action="GuardarCambios" asp-controller="Pago" method="post" class="needs-validation" novalidate>

            <input  type="hidden" />
            <div class="row">

            <div class="col-md-6 form-group">

                <div class="form-group">
                    <label class="form-label">Nombre del alumno</label>
                    <select class="form-control select2" style="width: 100%;" required>
                        <option selected disabled value="">Seleccionar tipo de gastos</option>
                            <option>gasto1</option>
                            <option>gasto1</option>
                            <option>gasto1</option>
                            <option>gasto1</option>
                            <option>gasto1</option>
                            <option>gasto1</option>

                    </select>
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>

            </div>


                <div class="col-md-6 form-group">
                <label class="form-label">Cantidad</label>
                    <input type="text" class="form-control form-control-sa" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
            </div>
                <div class="col-md-6 form-group">
                <label class="form-label">Razon</label>
                    <input type="text" class="form-control form-control-sa" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
            </div>




                <div class="col-md-6 form-group">
                    <div class="containerup">
                        <input type="file"
                               id="input-file"
                               name="input-file"
                               accept="image/*"
                               onchange={handleChange()}
                               hidden required />
                        <label class="btn-upload" for="input-file" role="button">
                            Subir comprobante
                        </label>
                        <div class="preview-box"></div>
                    </div>


                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>


                <div class="col-md-12 form-group">
                    <button type="submit" class="btn btn-success btn-sm" style="width:100% !important">Guardar Cambios</button>
            </div>
            
            </div>


        </form>

        @*<a asp-action="agregarusuario" asp-controller="Usuarios" asp-route-IdUsuario="0" class="btn btn-primary btn-sm">Nuevo Usuario </a>*@

    </div>
</div>

<script>
    const handleChange = () => {
        const fileUploader = document.querySelector('#input-file');
        const getFile = fileUploader.files
        if (getFile.length !== 0) {
            const uploadedFile = getFile[0];
            readFile(uploadedFile);
        }
    }

    const readFile = (uploadedFile) => {
        if (uploadedFile) {
            const reader = new FileReader();
            reader.onload = () => {
                const parent = document.querySelector('.preview-box');
                parent.innerHTML = `<img class="preview-content" src=${reader.result} />`;
            };

            reader.readAsDataURL(uploadedFile);
        }
    };


</script>