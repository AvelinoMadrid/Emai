

@{
    ViewData["Title"] = "Programa 5S";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<div class="card">
    <div class="card-header">
        Programa 5S
    </div>
    <!-- /.card-header -->
    <div class="card-body" ng-controller="myCtrl">

        <form asp-action="GuardarCambios" asp-controller="Usuarios" method="post" class="needs-validation" novalidate>


            <div class="row">

                <div class="col-md-3 form-group">
                    <label class="form-label" for="Usuario">Supervisor</label>
                    <input type="text" class="form-control form-control-sa" name="Supervisor" id="Supervisor" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>




                <div class="col-md-3 form-group">
                    <label class="form-label" for="email">Area</label>
                    <input type="text" class="form-control form-control-sa" id="Area" name="Area" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>


                <div class="col-md-3 form-group">
                    <label class="form-label" for="Direccion">Fecha de antes</label>
                    <input type="date" class="form-control form-control-sa" id="fechaantes" name="fechaantes" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>



                <div class="col-md-3 form-group">
                    <label class="form-label" for="Telefono">Fecha despues</label>
                    <input type="date" class="form-control form-control-sa" id="fechadespues" name="fechadespues" required />
                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>


                <div class="col-md-6 form-group">
                    <div class="containerup">
                        <input type="file"
                               id="input-file"
                               name="input-file"
                               accept="image/*"
                               onchange="handleChange('input-file', 'preview-box')"
                               hidden />
                        <label class="btn-upload" for="input-file" role="button">
                            Subir Foto antes
                        </label>
                        <div class="preview-box"></div>
                    </div>

                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>

                <div class="col-md-6 form-group">
                    <div class="containerup">
                        <input type="file"
                               id="input-file2"
                               name="input-file"
                               accept="image/*"
                               onchange="handleChange('input-file2', 'preview-box2')"
                               hidden />
                        <label class="btn-upload" for="input-file2" role="button">
                            Subir Foto despues
                        </label>
                        <div class="preview-box2"></div>
                    </div>

                    <div class="valid-feedback">Válido.</div>
                    <div class="invalid-feedback">Por favor rellene este campo.</div>
                </div>

                <div class="col-md-12 form-group">

                    <button type="submit" class="btn btn-success btn-sm" ng-click="submitForm()" style="width:100% !important">Guardar Cambios</button>

                </div>



            </div>


        </form>

        @*<a asp-action="agregarusuario" asp-controller="Usuarios" asp-route-IdUsuario="0" class="btn btn-primary btn-sm">Nuevo Usuario </a>*@




    </div>
</div>

<script>
    const handleChange = (inputId, previewBoxClass) => {
        const fileUploader = document.querySelector(`#${inputId}`);
        const getFile = fileUploader.files;
        if (getFile.length !== 0) {
            const uploadedFile = getFile[0];
            readFile(uploadedFile, previewBoxClass);
        }
    };

    const readFile = (uploadedFile, previewBoxClass) => {
        if (uploadedFile) {
            const reader = new FileReader();
            reader.onload = () => {
                const parent = document.querySelector(`.${previewBoxClass}`);
                parent.innerHTML = `<img class="preview-content" src=${reader.result} />`;
            };

            reader.readAsDataURL(uploadedFile);
        }
    };


</script>